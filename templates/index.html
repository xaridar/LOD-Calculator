{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block content %}
<div class="d-flex flex-row flex-wrap gap-3 justify-content-center align-items-end">
    <div class="d-flex flex-column mx-2">
        <label for="xVar" class="text-center w-100 mb-2 fs-5 mt-3">X Axis (Independent) Variable</label>
        <div class="btn-group" role="group" aria-label="X Parameter" data-toggle="buttons">
            <a href="/graph#cv" id="btn-param-cv" class="btn btn-outline-primary" aria-label="Coefficient of Variation">CV</a>
            <a href="/graph#beta" id="btn-param-beta" class="btn btn-outline-primary" aria-label="Type II Error Rate">&beta;</a>
            <a href="/graph#n" id="btn-param-n" class="btn btn-outline-primary" aria-label="Number of Independent Experiments">n</a>
            <a href="/graph#k" id="btn-param-k" class="btn btn-outline-primary" aria-label="Dilution Factor">k</a>
        </div>
    </div>
    <a href="/calc" id="btn-param-calc" class="btn btn-outline-primary {{'active' if render == 'calc'}}">Calculate Discrete Value</a>
</div>
<div class="d-flex flex-lg-row align-items-center gap-4 m-4 container justify-content-center flex-column">
    <div class="w-100 {{'hidden' if render == 'calc'}}">
        <canvas id="chart" width="500" height="500"></canvas>
    </div>
    <div class="d-flex flex-column gap-3 w-100">
        <div class="d-grid gap-2 form-group w-100" id="cv-ctr" data-value="0" data-min="0" {{'data-max=10' if render != 'calc'}} data-step="0.1">
            <label for="{{'cv-text' if render == 'calc' else 'cv-slider'}}" id="cv-label">Coefficient of Variation (CV)</label>
            <input aria-labelledby="cv-label" role="slider" type="range" class="slider form-range {{'hidden' if render == 'calc'}}" id="cv-slider" aria-valuenow="0" aria-valuemin="0" aria-valuemax="10">
            <input aria-label="Coefficient of Variation input" class="user-select-all text number-input form-control" onfocus="select()" id="cv-text" type="number">
        </div>
        <div class="d-grid gap-2 form-group w-100" id="beta-ctr" data-value="0.05" data-min="0" {{'data-max=0.5' if render != 'calc' else 'data-max=1'}} data-step="0.01">
            <label for="{{'beta-text' if render == 'calc' else 'beta-slider'}}" id="beta-label">Type II Error Rate (&beta;)</label>
            <input aria-labelledby="beta-label" role="slider" type="range" class="slider form-range {{'hidden' if render == 'calc'}}" id="beta-slider" aria-valuenow="0.05" aria-valuemin="0" aria-valuemax="0.5">
            <input aria-label="Type II Error Rate input" class="user-select-all text number-input form-control" onfocus="select()" id="beta-text" type="number">
        </div>
        <div class="d-grid gap-2 form-group w-100" id="n-ctr" data-value="1" data-min="1" {{'data-max=100' if render != 'calc'}} data-step="1">
            <label for="{{'n-text' if render == 'calc' else 'n-slider'}}" id="n-label">Number of Independent Experiments (n)</label>
            <input aria-labelledby="n-label" role="slider" type="range" class="slider form-range {{'hidden' if render == 'calc'}}" id="n-slider" aria-valuenow="1" aria-valuemin="1" aria-valuemax="100">
            <input aria-label="Number of Independent Experiments input" class="user-select-all text number-input form-control" onfocus="select()" id="n-text" type="number">
        </div>
        <div class="d-grid gap-2 form-group w-100" id="k-ctr" data-value="0.01" data-min="0" data-max="1" data-step="0.01">
            <label for="{{'k-text' if render == 'calc' else 'k-slider'}}" id="k-label">Dilution Factor (k)</label>
            <input aria-labelledby="k-label" role="slider" type="range" class="slider form-range {{'hidden' if render == 'calc'}}" id="k-slider" aria-valuenow="0.01" aria-valuemin="0" aria-valuemax="1">
            <input aria-label="Dilution Factor input" class="user-select-all text number-input form-control" onfocus="select()" id="k-text" type="number">
        </div>
        <div class="d-grid gap-2 form-group w-100 {{'hidden' if render != 'calc'}}" style="margin-top: 5rem" id="lod-results">
            <label for="lod-text" class="h4">Limit of Detection (LOD) per mL</label>
            <input class="text form-control" id="lod-text" type="text" disabled>
        </div>
    </div>
</div>
<script src="/static/chartplugins.js"></script>
<script src="/static/graph.js"></script>
{% endblock %}